const fs = require('fs');

// Lire le fichier source
let content = fs.readFileSync('./src/lib/data/communes-contours.ts', 'utf8');

// Gétigné (44063)
const getigneContour = `		{
			type: 'Feature',
			properties: { nom: 'Gétigné', code: '44063' },
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[-1.217158, 47.05363],
						[-1.220507, 47.054426],
						[-1.220739, 47.055957],
						[-1.224545, 47.057975],
						[-1.224149, 47.060146],
						[-1.226963, 47.061644],
						[-1.229961, 47.06355],
						[-1.231244, 47.065279],
						[-1.234314, 47.065727],
						[-1.23717, 47.066793],
						[-1.239335, 47.067881],
						[-1.240647, 47.068856],
						[-1.244749, 47.067544],
						[-1.246569, 47.066747],
						[-1.248925, 47.068718],
						[-1.250824, 47.071],
						[-1.252711, 47.072142],
						[-1.251884, 47.073528],
						[-1.254007, 47.074844],
						[-1.257977, 47.07468],
						[-1.259992, 47.07523],
						[-1.260422, 47.077359],
						[-1.26141, 47.079009],
						[-1.262928, 47.080294],
						[-1.264796, 47.082527],
						[-1.267276, 47.083966],
						[-1.270355, 47.08497],
						[-1.272218, 47.083142],
						[-1.274781, 47.082989],
						[-1.276698, 47.084441],
						[-1.276849, 47.086242],
						[-1.276095, 47.087609],
						[-1.274116, 47.088307],
						[-1.271852, 47.087442],
						[-1.268645, 47.089218],
						[-1.265645, 47.090757],
						[-1.263081, 47.090803],
						[-1.260078, 47.09201],
						[-1.257605, 47.094861],
						[-1.256053, 47.094965],
						[-1.253445, 47.095544],
						[-1.250761, 47.097202],
						[-1.247713, 47.097176],
						[-1.244757, 47.094433],
						[-1.241234, 47.094188],
						[-1.239454, 47.095861],
						[-1.236541, 47.096257],
						[-1.234151, 47.096411],
						[-1.232687, 47.09834],
						[-1.230506, 47.100362],
						[-1.226448, 47.099699],
						[-1.219672, 47.099646],
						[-1.216449, 47.098868],
						[-1.212769, 47.097746],
						[-1.208387, 47.097013],
						[-1.203212, 47.097506],
						[-1.199838, 47.096152],
						[-1.196338, 47.095192],
						[-1.193768, 47.09523],
						[-1.189775, 47.095249],
						[-1.186756, 47.09554],
						[-1.183414, 47.095324],
						[-1.179476, 47.09543],
						[-1.176528, 47.093809],
						[-1.172516, 47.092825],
						[-1.169648, 47.093314],
						[-1.168582, 47.091318],
						[-1.168344, 47.089973],
						[-1.167194, 47.088065],
						[-1.165221, 47.087023],
						[-1.163823, 47.085856],
						[-1.16366, 47.083404],
						[-1.163519, 47.081937],
						[-1.162656, 47.08148],
						[-1.162191, 47.080037],
						[-1.163683, 47.078988],
						[-1.166978, 47.077427],
						[-1.169853, 47.076123],
						[-1.173112, 47.076146],
						[-1.176763, 47.075944],
						[-1.180188, 47.076146],
						[-1.183796, 47.076477],
						[-1.186909, 47.074982],
						[-1.190422, 47.071684],
						[-1.192776, 47.069049],
						[-1.195854, 47.067214],
						[-1.199377, 47.066415],
						[-1.202683, 47.06375],
						[-1.204402, 47.061291],
						[-1.207592, 47.058981],
						[-1.209231, 47.057938],
						[-1.211002, 47.055438],
						[-1.213059, 47.055208],
						[-1.215124, 47.054319],
						[-1.217158, 47.05363],
					],
				],
			},
		},`;

// Cugand (85076)
const cugandContour = `		{
			type: 'Feature',
			properties: { nom: 'Cugand', code: '85076' },
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[-1.217158, 47.05363],
						[-1.215468, 47.05291],
						[-1.213711, 47.050891],
						[-1.210357, 47.050625],
						[-1.20992, 47.050437],
						[-1.212075, 47.046361],
						[-1.214421, 47.044898],
						[-1.218493, 47.043588],
						[-1.222704, 47.045014],
						[-1.226895, 47.042931],
						[-1.229856, 47.043439],
						[-1.233254, 47.043209],
						[-1.236177, 47.041958],
						[-1.239429, 47.040776],
						[-1.242807, 47.041546],
						[-1.245465, 47.039524],
						[-1.244562, 47.036629],
						[-1.243417, 47.035989],
						[-1.242695, 47.034794],
						[-1.241275, 47.033901],
						[-1.24112, 47.033664],
						[-1.244631, 47.033304],
						[-1.248039, 47.032072],
						[-1.250576, 47.033568],
						[-1.252648, 47.031114],
						[-1.254411, 47.028737],
						[-1.255798, 47.023283],
						[-1.257397, 47.022443],
						[-1.260825, 47.022983],
						[-1.261266, 47.020923],
						[-1.260308, 47.018638],
						[-1.261701, 47.015274],
						[-1.263009, 47.011714],
						[-1.265169, 47.010437],
						[-1.270685, 47.010628],
						[-1.275755, 47.010559],
						[-1.278354, 47.010402],
						[-1.280187, 47.012189],
						[-1.283443, 47.013206],
						[-1.283304, 47.017527],
						[-1.284443, 47.019792],
						[-1.289654, 47.022282],
						[-1.292221, 47.024082],
						[-1.291767, 47.025438],
						[-1.290354, 47.027854],
						[-1.292289, 47.027905],
						[-1.293384, 47.029653],
						[-1.294512, 47.032684],
						[-1.296601, 47.033843],
						[-1.298385, 47.034768],
						[-1.298131, 47.035586],
						[-1.295356, 47.038514],
						[-1.29464, 47.039479],
						[-1.296977, 47.039945],
						[-1.296302, 47.043189],
						[-1.298799, 47.042574],
						[-1.302442, 47.041244],
						[-1.305217, 47.040894],
						[-1.301767, 47.043255],
						[-1.297904, 47.044869],
						[-1.297587, 47.048937],
						[-1.291799, 47.052987],
						[-1.28941, 47.054683],
						[-1.286549, 47.061362],
						[-1.28876, 47.064565],
						[-1.291313, 47.065295],
						[-1.290705, 47.067026],
						[-1.290679, 47.070477],
						[-1.289459, 47.071973],
						[-1.287439, 47.076547],
						[-1.285264, 47.077347],
						[-1.281035, 47.076234],
						[-1.279928, 47.07603],
						[-1.277539, 47.07764],
						[-1.275667, 47.079066],
						[-1.274199, 47.081509],
						[-1.273607, 47.082823],
						[-1.272218, 47.083142],
						[-1.270606, 47.08486],
						[-1.267276, 47.083966],
						[-1.264623, 47.082352],
						[-1.262415, 47.07962],
						[-1.260318, 47.078079],
						[-1.257977, 47.07468],
						[-1.254921, 47.074976],
						[-1.252599, 47.073007],
						[-1.251412, 47.071668],
						[-1.249993, 47.070038],
						[-1.24673, 47.066836],
						[-1.24399, 47.067935],
						[-1.239981, 47.068311],
						[-1.2371, 47.066547],
						[-1.232845, 47.06572],
						[-1.229961, 47.06355],
						[-1.225568, 47.060829],
						[-1.224596, 47.058095],
						[-1.220459, 47.055623],
						[-1.218336, 47.053873],
						[-1.217158, 47.05363],
					],
				],
			},
		},`;

// Boussay (44022)
const boussayContour = `		{
			type: 'Feature',
			properties: { nom: 'Boussay', code: '44022' },
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[-1.148372, 47.029454],
						[-1.151858, 47.030546],
						[-1.156174, 47.032151],
						[-1.158589, 47.033371],
						[-1.162754, 47.032005],
						[-1.166377, 47.033416],
						[-1.170984, 47.034621],
						[-1.174956, 47.034656],
						[-1.178732, 47.03593],
						[-1.182028, 47.036045],
						[-1.186271, 47.037053],
						[-1.190996, 47.039186],
						[-1.195999, 47.039394],
						[-1.200301, 47.040163],
						[-1.202841, 47.041727],
						[-1.201491, 47.044215],
						[-1.204298, 47.045961],
						[-1.208135, 47.046919],
						[-1.209574, 47.049117],
						[-1.210729, 47.050627],
						[-1.21448, 47.051424],
						[-1.215692, 47.053102],
						[-1.214759, 47.055083],
						[-1.211926, 47.055309],
						[-1.209662, 47.056515],
						[-1.209025, 47.05846],
						[-1.206962, 47.059623],
						[-1.20419, 47.061477],
						[-1.202683, 47.06375],
						[-1.200191, 47.065843],
						[-1.196995, 47.066718],
						[-1.193089, 47.06886],
						[-1.19096, 47.071269],
						[-1.188049, 47.07362],
						[-1.182329, 47.076522],
						[-1.176003, 47.075936],
						[-1.172394, 47.076027],
						[-1.169313, 47.076408],
						[-1.165827, 47.078122],
						[-1.162227, 47.079747],
						[-1.160293, 47.078699],
						[-1.15876, 47.076584],
						[-1.157189, 47.074437],
						[-1.154963, 47.072432],
						[-1.152276, 47.071277],
						[-1.150122, 47.069964],
						[-1.147033, 47.069124],
						[-1.143418, 47.068157],
						[-1.141842, 47.067894],
						[-1.138215, 47.067703],
						[-1.133875, 47.065937],
						[-1.131142, 47.065],
						[-1.128402, 47.0638],
						[-1.12607, 47.064514],
						[-1.122891, 47.064302],
						[-1.118801, 47.064242],
						[-1.114905, 47.06134],
						[-1.120957, 47.056857],
						[-1.11936, 47.048155],
						[-1.117771, 47.045362],
						[-1.117041, 47.042551],
						[-1.117141, 47.041008],
						[-1.11817, 47.039845],
						[-1.120194, 47.039018],
						[-1.122166, 47.038301],
						[-1.124381, 47.038451],
						[-1.12625, 47.03653],
						[-1.128465, 47.036054],
						[-1.130799, 47.036347],
						[-1.132432, 47.035011],
						[-1.13466, 47.034937],
						[-1.137085, 47.034027],
						[-1.139478, 47.032585],
						[-1.142571, 47.031241],
						[-1.145036, 47.030433],
						[-1.147933, 47.029588],
						[-1.148372, 47.029454],
					],
				],
			},
		},`;

// Rechercher et remplacer Gétigné
const getignePattern = /\t\t\{\n\t\t\ttype: 'Feature',\n\t\t\tproperties: \{ nom: 'Gétigné', code: '44063' \},[\s\S]*?\n\t\t\},/;
content = content.replace(getignePattern, getigneContour);

// Rechercher et remplacer Cugand
const cugandPattern = /\t\t\{\n\t\t\ttype: 'Feature',\n\t\t\tproperties: \{ nom: 'Cugand', code: '85076' \},[\s\S]*?\n\t\t\},/;
content = content.replace(cugandPattern, cugandContour);

// Rechercher et remplacer Boussay
const boussayPattern = /\t\t\{\n\t\t\ttype: 'Feature',\n\t\t\tproperties: \{ nom: 'Boussay', code: '44022' \},[\s\S]*?\n\t\t\},/;
content = content.replace(boussayPattern, boussayContour);

// Écrire le fichier mis à jour
fs.writeFileSync('./src/lib/data/communes-contours.ts', content);
console.log('✅ Real contours applied successfully!');
console.log('- Gétigné: 97 points');
console.log('- Cugand: 99 points');
console.log('- Boussay: 77 points');

